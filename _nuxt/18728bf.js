(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{312:function(t,e,n){var content=n(322);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(87).default)("14c84559",content,!0,{sourceMap:!1})},316:function(t,e,n){"use strict";n.r(e);var r=n(91),o=n(8),d=(n(35),n(71),n(22),n(11),n(53),n(147),n(36),n(68),n(46),n(30),n(146),n(330),n(331),n(2)),c=n(332),l=d.a.extend({name:"Status",data:function(){return{hasStatus:!1,icon:"code",label:"",statusInterval:null,genericStatusData:null}},mounted:function(){this.getCurrentStatus()},beforeUnmount:function(){clearInterval(this.statusInterval)},methods:{getCurrentStatus:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.statusInterval=setInterval(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateStatus();case 2:case"end":return e.stop()}}),e)}))),6e4),e.next=3,t.updateStatus();case 3:case"end":return e.stop()}}),e)})))()},updateStatus:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],e.t0=(n=o).push,e.t1=n,e.t2=r.a,e.next=6,t.fetchGenericStatusData();case 6:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),o=t.orderActivities(o),d=t.filterActivities(o),t.hasStatus=!!d,d&&(t.label=d.name,t.icon=d.icon,setTimeout((function(){var e=t.$el.querySelector(".status__text label");t.$el.style.setProperty("--status-width","".concat(e.offsetWidth,"px"))})));case 13:case"end":return e.stop()}}),e)})))()},fetchGenericStatusData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.genericStatusData){e.next=7;break}return e.next=3,fetch("/status.json");case 3:return data=e.sent,e.next=6,data.json();case 6:t.genericStatusData=e.sent;case 7:return e.abrupt("return",t.genericStatusData);case 8:case"end":return e.stop()}}),e)})))()},findStartOfLastWeekDay:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e||(e=c.DateTime.now().setZone("Europe/Amsterdam").startOf("day")),"daily"===t)return e;if("weekend"===t)for(var n=e;;){if(["Sat","Sun"].includes(n.weekdayShort))return n;n=n.minus({day:1})}else if("workday"===t)for(var r=e;;){if(!["Sat","Sun"].includes(r.weekdayShort))return r;r=r.minus({day:1})}else if(["mon","tue","wed","thu","fri","sat","sun","monday","tuesday","wednesday","thursday","friday","saturday","sunday"].includes(t.toLowerCase()))for(var o=e;;){if(t.toLowerCase()===o.weekdayShort.toLowerCase()||t.toLowerCase()===o.weekdayLong.toLowerCase())return o;o=o.minus({day:1})}return null},filterActivities:function(data){var t=this,e=c.DateTime.now();return data.find((function(n){var r=t.findStartOfLastWeekDay(n.date),o=r.set(t.getTimeUnits(n.time)),d=o.plus(t.getTimeUnits(n.duration));if(o<=e&&e<d)return!0;var c=t.findStartOfLastWeekDay(n.date,r.minus({seconds:1}));if(c){var l=c.set(t.getTimeUnits(n.time)),f=l.plus(t.getTimeUnits(n.duration));if(l<=e&&e<f)return!0}return!1}))},filterActivitiesOLD:function(data){var t=["Sat","Sun"].includes(c.DateTime.now().weekdayShort);return data.filter((function(e){return"daily"===e.date||(e.date===c.DateTime.now().weekdayLong.toLowerCase()||(e.date===c.DateTime.now().weekdayShort.toLowerCase()||(!(!Array.isArray(e)||!e.date.includes(c.DateTime.now().weekdayLong.toLowerCase()))||(!(!Array.isArray(e)||!e.date.includes(c.DateTime.now().weekdayShort.toLowerCase()))||(!("weekend"!==e.date||!t)||"workday"===e.date&&!t)))))}))},addCurrentTimes:function(data){var t=this;return data.map((function(e){var n=c.DateTime.now().setZone("Europe/Amsterdam").set(t.getTimeUnits(e.time)),r=n.plus(t.getTimeUnits(e.duration));return e.start=n.toUTC(),e.end=r.toUTC(),e}))},getTimeUnits:function(t){var e={hours:0,minutes:0,seconds:0},n=t.split(":");return n.length>0&&(e.hours=parseInt(n[0]),e.hours=isNaN(e.hours)?0:e.hours,e.hours=Math.min(23,Math.max(0,e.hours))),n.length>1&&(e.minutes=parseInt(n[1]),e.minutes=isNaN(e.minutes)?0:e.minutes,e.minutes=Math.min(59,Math.max(0,e.minutes))),n.length>2&&(e.seconds=parseInt(n[2]),e.seconds=isNaN(e.seconds)?0:e.seconds,e.seconds=Math.min(59,Math.max(0,e.seconds))),e},orderActivities:function(data){return data.sort((function(a,b){return Math.sign(a.priority-b.priority)}))}}}),f=l,m=(n(321),n(52)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasStatus?n("div",{staticClass:"status"},[n("span",{staticClass:"status__label"},[n("span",{staticClass:"status__icon"},[t._v("\n      "+t._s(t.icon)+"\n    ")]),t._v(" "),n("span",{staticClass:"status__text"},[n("label",[t._v(t._s(t.label))])])])]):t._e()}),[],!1,null,"bda0ddc8",null);e.default=component.exports},321:function(t,e,n){"use strict";n(312)},322:function(t,e,n){var r=n(86)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.status[data-v-bda0ddc8]{\n  --status-width:200px;\n  position:relative;\n  display:flex;\n  height:2rem;\n  width:2rem;\n  align-items:center;\n  justify-content:center;\n  border-radius:9999px;\n  font-weight:600\n}\n.status__label[data-v-bda0ddc8]{\n  position:absolute;\n  top:0px;\n  left:0px;\n  display:flex;\n  height:100%;\n  align-items:center;\n  border-radius:9999px;\n  --tw-bg-opacity:1;\n  background-color:rgba(255, 255, 255, var(--tw-bg-opacity));\n  font-size:0.75rem;\n  line-height:1rem;\n  --tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\n}\n.status__text[data-v-bda0ddc8]{\n  transition-delay:200ms;\n  transition-duration:300ms;\n  transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);\n  max-width:0;\n  opacity:0;\n  overflow:hidden;\n  transform:translateX(-10px)\n}\n.status:hover .status__text[data-v-bda0ddc8]{\n  transition-delay:0ms;\n  opacity:1;\n  max-width:var(--status-width);\n  transform:none\n}\nlabel[data-v-bda0ddc8]{\n  padding-right:1rem;\n  padding-left:0.25rem;\n  white-space:nowrap\n}\n.status__icon[data-v-bda0ddc8]{\n  display:flex;\n  height:2rem;\n  width:2rem;\n  align-items:center;\n  justify-content:center;\n  font-size:1.125rem;\n  line-height:1.75rem;\n  transform:translateY(-1px)\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r}}]);